@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --background: 40 10% 98%;
    --foreground: 0 0% 12%;
    --card: 0 0% 100%;
    --card-foreground: 0 0% 12%;
    --popover: 0 0% 100%;
    --popover-foreground: 0 0% 12%;
    --primary: 17 78% 62%;
    --primary-foreground: 0 0% 100%;
    --secondary: 0 0% 96%;
    --secondary-foreground: 0 0% 12%;
    --muted: 0 0% 45%;
    --muted-foreground: 0 0% 45%;
    --accent: 0 0% 96%;
    --accent-foreground: 0 0% 12%;
    --destructive: 0 84% 60%;
    --destructive-foreground: 0 0% 100%;
    --border: 0 0% 90%;
    --input: 0 0% 90%;
    --ring: 17 78% 62%;
    --radius: 0.5rem;
  }
}

@layer base {
  * {
    @apply border-border;
  }
  html, body {
    @apply bg-background text-foreground;
    font-feature-settings: "rlig" 1, "calt" 1;
    overscroll-behavior: none;
  }
}

@layer utilities {
  .sticky-header-shadow {
    /* Animation de l'ombre au scroll (navigateurs modernes) */
    animation: fade-shadow linear forwards;
    animation-timeline: scroll(nearest);
    animation-range: 0 50px;
  }

  @keyframes fade-shadow {
    from {
      box-shadow: 0 0 0 0 rgba(0, 0, 0, 0);
    }
    to {
      box-shadow: 0 4px 12px -4px rgba(0, 0, 0, 0.1);
    }
  }

  /* Fallback pour les navigateurs qui ne supportent pas scroll-driven animations */
  @supports not (animation-timeline: scroll()) {
    .sticky-header-shadow {
      box-shadow: 0 4px 12px -4px rgba(0, 0, 0, 0.08);
    }
  }

  /* Zones draggables Tauri (ex: sidebar) */
  body.platform-tauri [data-tauri-drag-region] {
    -webkit-app-region: drag;
  }

  /* Désactiver le drag sur les éléments interactifs */
  body.platform-tauri [data-tauri-drag-region="false"],
  body.platform-tauri button,
  body.platform-tauri a,
  body.platform-tauri input,
  body.platform-tauri textarea,
  body.platform-tauri select,
  body.platform-tauri label {
    -webkit-app-region: no-drag;
  }

  [data-tauri-drag-region="false"] {
    -webkit-app-region: no-drag;
  }

  /* Fix pour l'icône de loading de Sonner - forcer à gauche */

}

.sonner-loader {
  position: relative !important;
  transform: translateX(-50%) !important;
}