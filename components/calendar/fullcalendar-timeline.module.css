/* FullCalendar Timeline Styles */
.container {
  /* Container class for scoping */
}

/* Hide default header */
.container :global(.fc-header-toolbar) {
  display: none !important;
}

/* All-day section styling */
.container :global(.fc-daygrid-body) {
  border-bottom: 1px solid hsl(var(--border) / 0.6);
}

.container :global(.fc-scrollgrid-section-header) {
  /* Ensure all-day section is visible */
}

.container :global(.fc-daygrid-day-frame) {
  height: 34px;
}

.container :global(.fc-daygrid-day-events) {
  display: flex;
  flex-wrap: wrap;
  gap: 4px;
  padding: 2px 4px;
}

.container :global(.fc-daygrid-event) {
  border-radius: 4px;
  padding: 2px 8px;
  font-size: 11px;
  margin: 0 !important;
  line-height: 1.2;
}

.container :global(.fc-daygrid-event-harness) {
  margin: 0 !important;
}

/* All-day row label */
.container :global(.fc-timegrid-axis) {
  width: 56px !important;
}

.container :global(.fc-timegrid-divider) {
  display: none;
}

/* Style the all-day area background */
.container :global(.fc-timegrid-body .fc-scrollgrid-sync-table) {
  /* Time grid body */
}

.container :global(.fc-daygrid-body-balanced) {
  /* All day body */
}

/* Base styles */
.container :global(.fc) {
  --fc-border-color: hsl(var(--border) / 0.4);
  --fc-today-bg-color: transparent;
  --fc-now-indicator-color: #ef4444;
  --fc-event-border-color: transparent;
  font-family: inherit;
}

/* Time axis styling */
.container :global(.fc-timegrid-slot) {
  height: 32px !important;
  border-bottom: 1px solid hsl(var(--border) / 0.4);
}

.container :global(.fc-timegrid-slot-label) {
  width: 56px !important;
  font-size: 12px;
  color: hsl(var(--muted-foreground) / 0.6);
  padding: 0 8px;
  border: none !important;
  background: transparent !important;
  vertical-align: top;
}

.container :global(.fc-timegrid-slot-label:hover) {
  background: transparent !important;
}

.container :global(.fc-timegrid-slot-label-cushion) {
  padding: 0;
  transform: translateY(-50%);
  display: inline-block;
}

/* Hide the half-hour labels */
.container :global(.fc-timegrid-slot-label:has(.fc-timegrid-slot-label-cushion:empty)) {
  visibility: hidden;
}

/* Column styling */
.container :global(.fc-timegrid-col) {
  border-left: none !important;
}

/* Hide day header */
.container :global(.fc-col-header) {
  display: none;
}

/* Event styling */
.container :global(.fc-event) {
  border-radius: 4px;
  border: none !important;
  cursor: pointer;
  transition: transform 0.15s, box-shadow 0.15s;
}

.container :global(.fc-event:hover) {
  transform: scale(1.01);
}

.container :global(.fc-event-main) {
  padding: 0;
  overflow: hidden;
}

.container :global(.fc-event-main-frame) {
  height: 100%;
}

.container :global(.fc-event .fc-event-content) {
  color: white !important;
}

/* Resize handles */
.container :global(.fc-event-resizer) {
  position: absolute;
  left: 0;
  right: 0;
  height: 8px;
  /* ns-resize doesn't work in Tauri/WKWebView on macOS, use custom SVG cursor mimicking macOS */
  cursor: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='9' height='18' viewBox='0 0 9 18'%3E%3Cpath fill='%23fff' stroke='%23000' stroke-width='1' d='M4.5 1l3.5 4h-2.5v8h2.5l-3.5 4-3.5-4h2.5v-8h-2.5z'/%3E%3C/svg%3E") 4.5 9, ns-resize;
  z-index: 10;
}

.container :global(.fc-event-resizer-start) {
  top: 0;
}

.container :global(.fc-event-resizer-end) {
  bottom: 0;
}

/* Now indicator */
.container :global(.fc-timegrid-now-indicator-line) {
  border-color: #ef4444;
  border-width: 1px;
}

.container :global(.fc-timegrid-now-indicator-arrow) {
  display: none;
}

/* Hide scrollbar */
.container :global(.fc-scroller) {
  scrollbar-width: none; /* Firefox */
  -ms-overflow-style: none; /* IE/Edge */
}

.container :global(.fc-scroller::-webkit-scrollbar) {
  display: none; /* Chrome/Safari */
}

/* Slot hover effect (only on event lanes, not labels) */
.container :global(.fc-timegrid-slot-lane:hover) {
  background: hsl(var(--muted) / 0.1);
}

/* Remove borders from container */
.container :global(.fc-scrollgrid) {
  border: none !important;
}

.container :global(.fc-scrollgrid-section > td) {
  border: none !important;
}

/* Event dragging */
.container :global(.fc-event-dragging) {
  opacity: 0.8;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
  z-index: 50 !important;
}

.container :global(.fc-event-resizing) {
  opacity: 0.8;
}

/* Hide mirror element's default styling */
.container :global(.fc-event-mirror) {
  opacity: 0.5;
}
