name = "miniorg"
compatibility_date = "2025-01-01"

# Compatibility flags for Node.js APIs
compatibility_flags = ["nodejs_compat"]

# Configuration pour Workers
main = ".open-next/worker.js"

[assets]
directory = ".open-next/assets"

# D1 Database binding
[[d1_databases]]
binding = "DB"
database_name = "miniorg-production"
database_id = "4bc4d83f-391b-45bb-af6a-51310ecfc020"

# Environment variables (secrets should be set via wrangler secret put)
[vars]
NODE_ENV = "production"

# Configuration des secrets pour NextAuth v5:
# Pour Workers: wrangler secret put SECRET_NAME
# Pour Pages: wrangler pages secret put SECRET_NAME --project-name=miniorg
# 
# Secrets nécessaires:
# - AUTH_SECRET (utilisé par NextAuth v5)
# - AUTH_URL (URL complète de votre app, e.g., https://miniorg.your-domain.workers.dev)
# - GOOGLE_CLIENT_ID
# - GOOGLE_CLIENT_SECRET
